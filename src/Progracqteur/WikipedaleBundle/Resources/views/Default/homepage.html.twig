{% extends "ProgracqteurWikipedaleBundle::layout.html.twig" %}

{% block body %}

<style type='text/css'>
/* Custom Button */
.olControlButtonAddPlaceItemActive {
    position: absolute;
    top: 0;
    right: 0;
    width: 150px;
    height: 20px;
    text-align:center;
}

.olControlButtonAddPlaceItemActive:hover {
    background: blue;
}

.olControlPanel {
    position: absolute;
    top: 5px;
    right: 5px;
    width: 150px;
    height: 20px;
    border: 1px solid black;
    background: red;
}
</style>

<p> Bonjour ! </p>

{% if (app.session.get('city')) and (app.session.get('city_center')) %}
<script language="javascript"> 
  <!--
      $(document).ready(function(){
          mapWithClickActionMarkers('{{ app.session.get('city') }}', {{app.session.get('city_center').lon}}, {{app.session.get('city_center').lat}},
				     displayPlaceDataFunction);
	  });
  // -->
</script>

<div id="map" style="width:400px; height:550px; float:left;"  class="smallmap"></div>

<div style="width:50%; height:100%; float:left; overflow:auto;">
   <div id="div_signaler" style="margin-left:15px;display:none;">
      <h1>Signaler un point noir.</h1>
      <strong>Pour des petits travaux et des travaux d'entretien, vous pouvez contacter directement la ville via 
          le num&eacute;ro gratuit 0800 92 329 ou via <a href="mailto:travaux.vert@ville.mons.be">travaux.vert@ville.mons.be</a>
          (<a href="http://www.mons.be/default.aspx?GUID={BF4FA10D-9842-11DA-9742-0002A58CB319}&LNG=FRA" target="_blank">
          mons.be</a>)</strong>.
      <br />
      <br />
      Cliquez sur la carte pour indiquer la position du point noir et remplissez le formulaire suivant.<br /><br />
      <form method="post" action="saving_report.php" name="form_signaler">
        <input  type="hidden" name="lon" readonly="true" />
        <input  type="hidden" name="lat" readonly="true" />
        <label for="l">Lieu : </label> <input name="lieu" id="l" size=42 /><br />
        <label for="d">Description:</label> <textarea name="description" id="d" cols=35 rows=5></textarea><br />
        <br />
        <label for="n">Nom, prénom: </label> <input name="nomprenom" id="n" size=42 /><br />
        <br />
        <label for="e">Email:</label> <input name="email" id="e"  size=42 /><br />
        <br />
        <div style="padding-left:100px"><input type="submit" value="soumettre"></div>
      </form>
      <br />
      <b>Aide :</b>
      <ul>
        <li>Un point noir est quelque chose qui pose probl&egrave;me &agrave; la pratique id&eacute;ale du v&eacute;lo ;  
            ça peut &ecirc;tre une bordure non abaiss&eacute;e, une piste cyclable mal entretenue, un feu mal synchronis&eacute;, 
            ...
        <li>Pour nous signaler un point noir, indiquez sur la carte o&ugrave; se trouve ce point noir, remplissez le formulaire et cliquez sur "soumettre". Merci.
      </ul>                   
  </div>
  <div id="div_placeDetails" style="margin-left:15px;display:none;"> 
    <h1>D&eacute;tails du point noir <span id="span_id"></span></h1>	
    <strong>Lieu</strong> : <strong>TODO</strong><br />
    <strong>Description</strong> : <span id="span_description"></span><br />
    <strong>Nbr. de commentaires</strong> : <span id="span_nbComm"></span><br />
    <strong>Nbr. de votes</strong> : <span id="span_nbVote"></span><br />
    <strong>Cr&eacute;ateur</strong> : <span id="span_creator"></span><br />
  </div>

  <div>
    <p><strong>ici : description de l'outil</strong></p>
    <p>Ville : {{app.session.get('city')}}</p>
    <p>Le centre ville est latitude {{app.session.get('city_center').lat}} et longitude {{app.session.get('city_center').lon}}</p>
  </div>
{% else %}
<p>Veuillez choisir une ville. Merci.</p>
{% endif %}

{% endblock %}
